<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css" integrity="sha384-ejwKkLla8gPP8t2u0eQyL0Q/4ItcnyveF505U0NIobD/SMsNyXrLti6CWaD0L52l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open Sans'>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</head>

<body>
<header th:insert="blocks/header :: header"></header>
<div class="container mt-5 shadow-lg p-3 mb-5"  >
    <div th:each="el : ${post}" class="alert alert-info mt-2 bg-dark text-warning">
        <h3 th:text="${el.title}"/>
        <p th:text="${el.price}"/>
        <p th:text="${el.category}"/>
        <p th:text="${el.consist}"/>
        <p th:text="${el.view}"/>
        <p ><b>Просмотров: </b><span th:text="${el.views}"/> <p/>

        <a th:href="'/post_info_all'+${el.id}+'following'" class="btn btn-warning" th:if="${#authentication.name!=el.getAuthorName()&&!following}">Добавить в избранное</a>
        <a th:href="'/post_info_all'+${el.id}+'removing'" class="btn btn-warning" th:if="${#authentication.name!=el.getAuthorName()&&following}">Убрать из избранного</a>

    </div>
</div>

<h3>Рекомендации</h3>
<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2" class="active" aria-current="true"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3" class=""></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item">
            <svg class="bd-placeholder-img" width="100%" height="550px" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#1a1918"></rect></svg>

            <div class="container">
                <div class="carousel-caption ">

                    <div th:if="${dataminning.size()>=1}">
                        <div class="container alert alert-info mt-2 bg-dark text-warning">
                            <h3 th:text="${dataminning.get(0).title}"></h3>
                            <p th:text="${dataminning.get(0).price}"/>
                            <p ><b>Просмотров: </b><span th:text="${dataminning.get(0).views}"/> <p/>
                            <p ><b>Автор: </b><span th:text="${dataminning.get(0).getAuthorName()}"/> <p/>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a th:href="'post_info_all'+${dataminning.get(0).id}" class="btn btn-outline-light me-2"> Посмотреть</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="carousel-item active">
            <svg class="bd-placeholder-img" width="100%" height="550px" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#1a1918"></rect></svg>

            <div class="container">
                <div class="carousel-caption">

                    <div th:if="${dataminning.size()>=2}">
                        <div class="container alert alert-info mt-2 bg-dark text-warning">
                            <h3 th:text="${dataminning.get(1).title}"></h3>
                            <p th:text="${dataminning.get(1).price}"/>
                            <p ><b>Просмотров: </b><span th:text="${dataminning.get(1).views}"/> <p/>
                            <p ><b>Автор: </b><span th:text="${dataminning.get(1).getAuthorName()}"/> <p/>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a th:href="'post_info_all'+${dataminning.get(1).id}" class="btn btn-outline-light me-2"> Посмотреть</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="carousel-item">
            <svg class="bd-placeholder-img" width="100%" height="550px" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#1a1918"></rect></svg>

            <div class="container">
                <div class="carousel-caption">

                    <div th:if="${dataminning.size()>=3}">
                        <div class="container alert alert-info mt-2 bg-dark text-warning">
                            <h3 th:text="${dataminning.get(2).title}"></h3>
                            <p th:text="${dataminning.get(2).price}"/>
                            <p ><b>Просмотров: </b><span th:text="${dataminning.get(2).views}"/> <p/>
                            <p ><b>Автор: </b><span th:text="${dataminning.get(2.getAuthorName()}"/> <p/>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a th:href="'post_info_all'+${dataminning.get(2).id}" class="btn btn-outline-light me-2"> Посмотреть</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<footer th:insert="blocks/footer :: footer"></footer>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</html>
